{
  "version": 3,
  "sources": ["src/app/services/api.spec.ts", "src/app/services/api.ts"],
  "sourcesContent": ["import { TestBed } from '@angular/core/testing';\r\nimport { Api } from './api';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { users } from '../interfaces/users';\r\nimport { of } from 'rxjs';\r\n\r\ndescribe('Api', () => {\r\n  let service: Api;\r\n  let HttpClientSpy: jasmine.SpyObj<HttpClient>\r\n\r\n  beforeEach(() => {\r\n    const spy = jasmine.createSpyObj('HttpClient', ['get', 'post']);\r\n\r\n    TestBed.configureTestingModule({\r\n      providers: [\r\n        Api,\r\n        { provide: HttpClient, useValue: spy }\r\n      ]\r\n    });\r\n\r\n    service = TestBed.inject(Api);\r\n    HttpClientSpy = TestBed.inject(HttpClient) as jasmine.SpyObj<HttpClient>;\r\n  });\r\n\r\n  it('should be created', () => {\r\n    expect(service).toBeTruthy();\r\n  });\r\n\r\n  it('should fetch the list of users when getUser is called (GET)', () => {\r\n    const expectedUsers: users[] = [\r\n      { id: 1, name: 'John Doe', email: 'john@test.com', password: '123' },\r\n      { id: 2, name: 'Jane Smith', email: 'jane@test.com', password: '456' }\r\n    ];\r\n    const expectedUrl = 'https://jsonplaceholder.typicode.com/users?_limit=3';\r\n\r\n    HttpClientSpy.get.and.returnValue(of(expectedUsers));\r\n\r\n    service.getUser().subscribe(\r\n      res => {\r\n        expect(res).toEqual(expectedUsers);\r\n      },\r\n      fail\r\n    );\r\n\r\n    expect(HttpClientSpy.get).toHaveBeenCalledTimes(1);\r\n    expect(HttpClientSpy.get).toHaveBeenCalledWith(expectedUrl);\r\n  });\r\n\r\n  it('should fetch users (GET)', () => {\r\n    const mockUsers: users[] = [\r\n      {\r\n        id: 1,\r\n        name: 'John',\r\n        email: 'john@test.com',\r\n        password: '1234567vv'\r\n      }\r\n    ];\r\n\r\n    const params = new HttpParams().set('id', '1');\r\n    const expectedUrl = 'https://jsonplaceholder.typicode.com/users?_limit=3';\r\n\r\n    HttpClientSpy.get.and.returnValue(of(mockUsers));\r\n\r\n    service.getUserById(1).subscribe((res) => {\r\n      expect(res).toEqual(mockUsers);\r\n    });\r\n    expect(HttpClientSpy.get).toHaveBeenCalledWith(expectedUrl, { params });\r\n\r\n  });\r\n\r\n  it('should add user (POST)', () => {\r\n    const newUser: users[] = [\r\n      {\r\n        id: 1,\r\n        name: 'John',\r\n        email: 'john@test.com',\r\n        password: '1234567vv'\r\n      }\r\n    ];\r\n\r\n    HttpClientSpy.post.and.returnValue(of(newUser));\r\n\r\n    service.addUser(newUser).subscribe((res) => {\r\n      expect(res).toEqual(newUser);\r\n    });\r\n\r\n    expect(HttpClientSpy.post).toHaveBeenCalledWith(\r\n      'https://jsonplaceholder.typicode.com/users?_limit=3',\r\n      newUser\r\n    );\r\n  });\r\n\r\n  it('should delete user (GET with params)', () => {\r\n    const mockUser: users[] = [\r\n      {\r\n        id: 1,\r\n        name: 'John',\r\n        email: 'john@test.com',\r\n        password: '1234567vv'\r\n      }\r\n    ];\r\n    const params = new HttpParams().set('id', '3');\r\n\r\n    HttpClientSpy.get.and.returnValue(of(mockUser));\r\n\r\n    service.deleteUser(3).subscribe((res) => {\r\n      expect(res).toEqual(mockUser);\r\n    });\r\n\r\n    expect(HttpClientSpy.get).toHaveBeenCalledWith(\r\n      'https://jsonplaceholder.typicode.com/users?_limit=3',\r\n      { params }\r\n    );\r\n  });\r\n\r\n});", "import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { users } from '../interfaces/users';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class Api {\r\n  private url = 'https://jsonplaceholder.typicode.com/users?_limit=3';\r\n\r\n  constructor(private http : HttpClient ) {}\r\n\r\n  getUser(){\r\n    return this.http.get(this.url);   \r\n  }\r\n  \r\n  getUserById (id: number) : Observable <users[]> {\r\n    const params = new HttpParams().set('id', id.toString());\r\n    return this.http.get<users[]>(this.url, {params});\r\n  }\r\n\r\n  addUser(user: users[]) : Observable <any> {\r\n    return this.http.post(this.url, user);\r\n  }\r\n\r\n  deleteUser(id : number) : Observable <users[]> {\r\n    const params = new HttpParams().set('id', id.toString());\r\n    return this.http.get<users[]>(this.url, {params});\r\n  }\r\n}"],
  "mappings": "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",
  "names": ["cov_u2jgnnedm", "actualCoverage", "s", "Api", "http", "url", "constructor", "f", "getUser", "get", "getUserById", "id", "params", "HttpParams", "set", "toString", "addUser", "user", "post", "deleteUser", "__decorate", "Injectable", "providedIn"]
}
